# MP4 to Audio Converter

ã‚³ãƒžãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§MP4å‹•ç”»ã‚’éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã«å¤‰æ›ã™ã‚‹ãƒ„ãƒ¼ãƒ«ã€‚FFmpegãƒ™ãƒ¼ã‚¹ã®è»½é‡ã§é«˜é€Ÿãªå¤‰æ›é–¢æ•°ã€‚

## ðŸ“‹ ç›®æ¬¡

- [ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—](#ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—)
- [ä½¿ç”¨æ–¹æ³•](#ä½¿ç”¨æ–¹æ³•)
- [ã‚³ãƒžãƒ³ãƒ‰ä¸€è¦§](#ã‚³ãƒžãƒ³ãƒ‰ä¸€è¦§)
- [å®Ÿè¡Œä¾‹](#å®Ÿè¡Œä¾‹)
- [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)
- [æŠ€è¡“è©³ç´°](#æŠ€è¡“è©³ç´°)

## ðŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 1. FFmpegã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# Homebrewã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
brew install ffmpeg
```

### 2. å¤‰æ›é–¢æ•°ã®è¿½åŠ 

```bash
# ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆï¼ˆæŽ¨å¥¨ï¼‰
cp ~/.zshrc ~/Desktop/zshrc_backup_$(date +%Y%m%d).txt

# é–¢æ•°ã‚’.zshrcã«è¿½åŠ 
cat >> ~/.zshrc << 'EOF'

# === MP4å¤‰æ›é–¢æ•° ===
mp4tomp3() {
    for file in "$@"; do
        if [[ "$file" == *.mp4 ]]; then
            output="${file%.*}.mp3"
            echo "å¤‰æ›ä¸­: $file â†’ $output"
            ffmpeg -i "$file" -vn -acodec mp3 -ab 192k "$output" -loglevel error
            echo "âœ… å®Œäº†: $output"
        fi
    done
}

mp4tomp3hq() {
    for file in "$@"; do
        if [[ "$file" == *.mp4 ]]; then
            output="${file%.*}.mp3"
            echo "å¤‰æ›ä¸­: $file â†’ $output (é«˜éŸ³è³ª)"
            ffmpeg -i "$file" -vn -acodec mp3 -ab 320k "$output" -loglevel error
            echo "âœ… å®Œäº†: $output"
        fi
    done
}

mp4towav() {
    for file in "$@"; do
        if [[ "$file" == *.mp4 ]]; then
            output="${file%.*}.wav"
            echo "å¤‰æ›ä¸­: $file â†’ $output (WAV)"
            ffmpeg -i "$file" -vn -acodec pcm_s16le "$output" -loglevel error
            echo "âœ… å®Œäº†: $output"
        fi
    done
}

mp4toaac() {
    for file in "$@"; do
        if [[ "$file" == *.mp4 ]]; then
            output="${file%.*}.aac"
            echo "å¤‰æ›ä¸­: $file â†’ $output (AAC)"
            ffmpeg -i "$file" -vn -acodec aac -ab 256k "$output" -loglevel error
            echo "âœ… å®Œäº†: $output"
        fi
    done
}
EOF

# è¨­å®šã‚’åæ˜ 
source ~/.zshrc
```

## ðŸ“– ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬çš„ãªä½¿ã„æ–¹

```bash
# å˜ä¸€ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¤‰æ›
mp4tomp3 video.mp4

# è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¤‰æ›
mp4tomp3 video1.mp4 video2.mp4 video3.mp4

# ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰ã§ä¸€æ‹¬å¤‰æ›
mp4tomp3 *.mp4
```

### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªç§»å‹•ã—ã¦ã‹ã‚‰å¤‰æ›

```bash
# å¤‰æ›ã—ãŸã„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
cd ~/Desktop/videos

# ãã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã®ã™ã¹ã¦ã®MP4ã‚’å¤‰æ›
mp4tomp3 *.mp4
```

## ðŸ›  ã‚³ãƒžãƒ³ãƒ‰ä¸€è¦§

| ã‚³ãƒžãƒ³ãƒ‰ | å‡ºåŠ›å½¢å¼ | éŸ³è³ª | ç”¨é€” |
|---------|---------|------|------|
| `mp4tomp3` | MP3 | 192kbps | æ¨™æº–çš„ãªéŸ³æ¥½å¤‰æ› |
| `mp4tomp3hq` | MP3 | 320kbps | é«˜éŸ³è³ªãŒå¿…è¦ãªå ´åˆ |
| `mp4towav` | WAV | ç„¡åœ§ç¸® | éŸ³æ¥½åˆ¶ä½œãƒ»ç·¨é›†ç”¨ |
| `mp4toaac` | AAC | 256kbps | Appleè£½å“ã§ã®å†ç”Ÿç”¨ |

### éŸ³è³ªã®ç›®å®‰

- **192kbps MP3**: ä¸€èˆ¬çš„ãªéŸ³æ¥½é‘‘è³žã«ååˆ†
- **320kbps MP3**: é«˜éŸ³è³ªã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºå¤§
- **WAV**: ç„¡åœ§ç¸®ã€æœ€é«˜éŸ³è³ªã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºéžå¸¸ã«å¤§
- **256kbps AAC**: åŠ¹çŽ‡çš„ãªåœ§ç¸®ã€AppleæŽ¨å¥¨

## ðŸ’¡ å®Ÿè¡Œä¾‹

### ä¾‹1: Podcastã®éŸ³å£°æŠ½å‡º

```bash
cd ~/Downloads/podcasts
mp4tomp3 *.mp4
```

### ä¾‹2: éŸ³æ¥½å‹•ç”»ã®é«˜éŸ³è³ªå¤‰æ›

```bash
mp4tomp3hq "éŸ³æ¥½å‹•ç”».mp4"
```

### ä¾‹3: éŸ³æ¥½åˆ¶ä½œç”¨ã®ç„¡åœ§ç¸®å¤‰æ›

```bash
mp4towav recording.mp4
```

### ä¾‹4: iPhoneç”¨ã®åŠ¹çŽ‡çš„ãªå¤‰æ›

```bash
mp4toaac interview.mp4
```

## ðŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### FFmpegãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆ

```bash
# FFmpegãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
ffmpeg -version

# ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ãªã„å ´åˆ
brew install ffmpeg
```

### é–¢æ•°ãŒèªè­˜ã•ã‚Œãªã„å ´åˆ

```bash
# .zshrcã‚’å†èª­ã¿è¾¼ã¿
source ~/.zshrc

# æ–°ã—ã„ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’é–‹ã
```

### æ¨©é™ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹å ´åˆ

```bash
# ãƒ•ã‚¡ã‚¤ãƒ«ã®æ¨©é™ã‚’ç¢ºèª
ls -la video.mp4

# èª­ã¿å–ã‚Šæ¨©é™ãŒãªã„å ´åˆ
chmod 644 video.mp4
```

### ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰å¾©å…ƒ

```bash
# å…ƒã®è¨­å®šã«æˆ»ã™
cp ~/Desktop/zshrc_backup_*.txt ~/.zshrc
source ~/.zshrc
```

## âš™ï¸ æŠ€è¡“è©³ç´°

### ä½¿ç”¨ã—ã¦ã„ã‚‹FFmpegã‚ªãƒ—ã‚·ãƒ§ãƒ³

```bash
# MP3 (192kbps)
ffmpeg -i input.mp4 -vn -acodec mp3 -ab 192k output.mp3

# MP3 (320kbps)
ffmpeg -i input.mp4 -vn -acodec mp3 -ab 320k output.mp3

# WAV (ç„¡åœ§ç¸®)
ffmpeg -i input.mp4 -vn -acodec pcm_s16le output.wav

# AAC (256kbps)
ffmpeg -i input.mp4 -vn -acodec aac -ab 256k output.aac
```

### ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®èª¬æ˜Ž

- `-i input.mp4`: å…¥åŠ›ãƒ•ã‚¡ã‚¤ãƒ«
- `-vn`: æ˜ åƒã‚’é™¤å¤–ï¼ˆéŸ³å£°ã®ã¿ï¼‰
- `-acodec`: éŸ³å£°ã‚³ãƒ¼ãƒ‡ãƒƒã‚¯æŒ‡å®š
- `-ab`: éŸ³å£°ãƒ“ãƒƒãƒˆãƒ¬ãƒ¼ãƒˆ
- `-loglevel error`: ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ã¿è¡¨ç¤º

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹

- **å¤‰æ›é€Ÿåº¦**: å…ƒå‹•ç”»ã®2-10å€é€Ÿ
- **ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡**: æ•°åMBç¨‹åº¦
- **CPUä½¿ç”¨çŽ‡**: å¤‰æ›ä¸­ã¯é«˜è² è·ã€å®Œäº†å¾Œã¯0

## ðŸ“ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
~/
â”œâ”€â”€ .zshrc                 # é–¢æ•°å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ Desktop/
â”‚   â””â”€â”€ zshrc_backup.txt   # ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ•ã‚¡ã‚¤ãƒ«
â””â”€â”€ [å¤‰æ›å¯¾è±¡ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª]/
    â”œâ”€â”€ video1.mp4         # å…ƒãƒ•ã‚¡ã‚¤ãƒ«
    â”œâ”€â”€ video1.mp3         # å¤‰æ›å¾Œãƒ•ã‚¡ã‚¤ãƒ«
    â”œâ”€â”€ video2.mp4
    â””â”€â”€ video2.mp3
```

## ðŸš¨ æ³¨æ„äº‹é …

- **ä¸Šæ›¸ãç¢ºèªãªã—**: åŒåãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚‹å ´åˆã¯è‡ªå‹•ã§ä¸Šæ›¸ã
- **æ‹¡å¼µå­ãƒã‚§ãƒƒã‚¯**: `.mp4`ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿å‡¦ç†
- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: FFmpegã®ã‚¨ãƒ©ãƒ¼ã¯æ¨™æº–ã‚¨ãƒ©ãƒ¼å‡ºåŠ›ã«è¡¨ç¤º
- **ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º**: WAVå½¢å¼ã¯éžå¸¸ã«å¤§ããªãƒ•ã‚¡ã‚¤ãƒ«ã«ãªã‚‹å¯èƒ½æ€§

## ðŸ”„ æ›´æ–°å±¥æ­´

- **v1.0**: åŸºæœ¬çš„ãªMP3å¤‰æ›æ©Ÿèƒ½
- **v1.1**: é«˜éŸ³è³ªã‚ªãƒ—ã‚·ãƒ§ãƒ³è¿½åŠ 
- **v1.2**: WAVãƒ»AACå½¢å¼å¯¾å¿œ
- **v1.3**: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æ”¹å–„

## ðŸ“ž ã‚µãƒãƒ¼ãƒˆ

å•é¡ŒãŒç™ºç”Ÿã—ãŸå ´åˆï¼š

1. FFmpegãŒæ­£ã—ãã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
2. ãƒ•ã‚¡ã‚¤ãƒ«ã®æ¨©é™ã‚’ç¢ºèª
3. .zshrcã®è¨­å®šã‚’ç¢ºèª
4. æ–°ã—ã„ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§è©¦è¡Œ

---

**ä½œæˆæ—¥**: $(date +%Y-%m-%d)  
**å‹•ä½œç’°å¢ƒ**: macOS (zsh)  
**ä¾å­˜é–¢ä¿‚**: FFmpeg, Homebrew


